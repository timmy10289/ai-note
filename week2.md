# 爬山演算法(隨機偏移量)  
以 -1 * ( x*x -2*x + y*y +2*y - 8 )為例  
```
import random

def hillClimbing(f, x, y, h=0.01):
    failCount = 0                    
    while (failCount < 10000):       
        fxy = f(x, y)                
        dx = random.uniform(-h, h)   
        dy = random.uniform(-h, h)   
        if f(x+dx, y+dy) >= fxy:     
            x = x + dx               
            y = y + dy
            print('x={:.3f} y={:.3f} f(x,y)={:.3f}'.format(x, y, fxy))
            failCount = 0            
        else:                       
            failCount = failCount + 1
    return (x,y,fxy)                 

def f(x, y):
    return -1 * ( x*x -2*x + y*y +2*y - 8 )

hillClimbing(f, 0, 0)
```  
# 結果  
```  
PS D:\Desktop\ai\ai\02-optimize\01-hillclimbing\03-var2> python hillClimbing2r.py
x=0.005 y=0.000 f(x,y)=8.000
x=0.011 y=0.002 f(x,y)=8.008
x=0.016 y=-0.001 f(x,y)=8.019
x=0.016 y=-0.004 f(x,y)=8.034
x=0.018 y=-0.006 f(x,y)=8.040
x=0.020 y=-0.014 f(x,y)=8.046
x=0.026 y=-0.010 f(x,y)=8.068
x=0.035 y=-0.015 f(x,y)=8.070
x=0.039 y=-0.017 f(x,y)=8.100
x=0.047 y=-0.027 f(x,y)=8.110
x=0.049 y=-0.031 f(x,y)=8.146
x=0.053 y=-0.040 f(x,y)=8.158
x=0.052 y=-0.045 f(x,y)=8.181
x=0.060 y=-0.046 f(x,y)=8.191
x=0.067 y=-0.055 f(x,y)=8.206
x=0.077 y=-0.052 f(x,y)=8.238
x=0.074 y=-0.062 f(x,y)=8.250
x=0.080 y=-0.065 f(x,y)=8.263
x=0.088 y=-0.067 f(x,y)=8.279
x=0.093 y=-0.071 f(x,y)=8.299
x=0.087 y=-0.081 f(x,y)=8.315
x=0.095 y=-0.075 f(x,y)=8.322
x=0.100 y=-0.073 f(x,y)=8.324
x=0.106 y=-0.068 f(x,y)=8.330
x=0.102 y=-0.074 f(x,y)=8.332
x=0.112 y=-0.074 f(x,y)=8.337
x=0.109 y=-0.079 f(x,y)=8.354
x=0.116 y=-0.080 f(x,y)=8.357
x=0.125 y=-0.089 f(x,y)=8.371
x=0.126 y=-0.089 f(x,y)=8.403
x=0.124 y=-0.095 f(x,y)=8.406
x=0.128 y=-0.091 f(x,y)=8.413
x=0.136 y=-0.089 f(x,y)=8.414
x=0.137 y=-0.093 f(x,y)=8.423
x=0.137 y=-0.101 f(x,y)=8.432
x=0.132 y=-0.107 f(x,y)=8.447
x=0.136 y=-0.114 f(x,y)=8.450
x=0.144 y=-0.119 f(x,y)=8.469
x=0.151 y=-0.127 f(x,y)=8.492
x=0.159 y=-0.129 f(x,y)=8.517
x=0.155 y=-0.135 f(x,y)=8.534
x=0.161 y=-0.141 f(x,y)=8.538
x=0.167 y=-0.144 f(x,y)=8.558
x=0.166 y=-0.150 f(x,y)=8.574
x=0.173 y=-0.150 f(x,y)=8.580
x=0.180 y=-0.154 f(x,y)=8.593
x=0.179 y=-0.160 f(x,y)=8.613
x=0.187 y=-0.164 f(x,y)=8.621
x=0.184 y=-0.168 f(x,y)=8.641
x=0.184 y=-0.171 f(x,y)=8.642
x=0.190 y=-0.177 f(x,y)=8.647
x=0.193 y=-0.182 f(x,y)=8.666
x=0.193 y=-0.182 f(x,y)=8.679
x=0.202 y=-0.192 f(x,y)=8.679
x=0.210 y=-0.186 f(x,y)=8.710
x=0.216 y=-0.181 f(x,y)=8.713
x=0.212 y=-0.190 f(x,y)=8.715
x=0.216 y=-0.189 f(x,y)=8.723
x=0.220 y=-0.187 f(x,y)=8.728
x=0.226 y=-0.193 f(x,y)=8.731
x=0.234 y=-0.188 f(x,y)=8.750
x=0.234 y=-0.197 f(x,y)=8.754
x=0.241 y=-0.203 f(x,y)=8.768
x=0.248 y=-0.210 f(x,y)=8.788
x=0.243 y=-0.216 f(x,y)=8.811
x=0.252 y=-0.224 f(x,y)=8.812
x=0.261 y=-0.218 f(x,y)=8.839
x=0.260 y=-0.220 f(x,y)=8.842
x=0.266 y=-0.220 f(x,y)=8.844
x=0.267 y=-0.226 f(x,y)=8.853
x=0.270 y=-0.231 f(x,y)=8.862
x=0.268 y=-0.238 f(x,y)=8.876
x=0.272 y=-0.240 f(x,y)=8.884
x=0.270 y=-0.250 f(x,y)=8.893
x=0.266 y=-0.255 f(x,y)=8.904
x=0.273 y=-0.252 f(x,y)=8.906
x=0.282 y=-0.243 f(x,y)=8.911
x=0.285 y=-0.253 f(x,y)=8.912
x=0.291 y=-0.258 f(x,y)=8.931
x=0.295 y=-0.266 f(x,y)=8.947
x=0.294 y=-0.275 f(x,y)=8.965
x=0.302 y=-0.272 f(x,y)=8.977
x=0.302 y=-0.275 f(x,y)=8.983
x=0.311 y=-0.273 f(x,y)=8.988
x=0.320 y=-0.268 f(x,y)=8.996
x=0.326 y=-0.263 f(x,y)=9.001
x=0.333 y=-0.257 f(x,y)=9.003
x=0.340 y=-0.260 f(x,y)=9.003
x=0.350 y=-0.253 f(x,y)=9.017
x=0.341 y=-0.261 f(x,y)=9.020
x=0.337 y=-0.271 f(x,y)=9.020
x=0.332 y=-0.281 f(x,y)=9.029
x=0.341 y=-0.288 f(x,y)=9.037
x=0.351 y=-0.283 f(x,y)=9.059
x=0.354 y=-0.288 f(x,y)=9.064
x=0.357 y=-0.296 f(x,y)=9.077
x=0.364 y=-0.305 f(x,y)=9.092
x=0.373 y=-0.302 f(x,y)=9.112
x=0.372 y=-0.310 f(x,y)=9.119
x=0.376 y=-0.307 f(x,y)=9.129
x=0.382 y=-0.310 f(x,y)=9.131
x=0.391 y=-0.304 f(x,y)=9.143
x=0.395 y=-0.303 f(x,y)=9.146
x=0.401 y=-0.303 f(x,y)=9.149
x=0.397 y=-0.309 f(x,y)=9.155
x=0.401 y=-0.308 f(x,y)=9.159
x=0.401 y=-0.318 f(x,y)=9.162
x=0.395 y=-0.327 f(x,y)=9.175
x=0.389 y=-0.337 f(x,y)=9.181
x=0.398 y=-0.344 f(x,y)=9.187
x=0.400 y=-0.352 f(x,y)=9.207
x=0.403 y=-0.353 f(x,y)=9.220
x=0.398 y=-0.362 f(x,y)=9.226
x=0.407 y=-0.355 f(x,y)=9.230
x=0.416 y=-0.349 f(x,y)=9.233
x=0.418 y=-0.350 f(x,y)=9.235
x=0.426 y=-0.345 f(x,y)=9.238
x=0.434 y=-0.340 f(x,y)=9.242
x=0.442 y=-0.349 f(x,y)=9.244
x=0.443 y=-0.356 f(x,y)=9.265
x=0.453 y=-0.355 f(x,y)=9.275
x=0.460 y=-0.355 f(x,y)=9.284
x=0.458 y=-0.364 f(x,y)=9.292
x=0.457 y=-0.369 f(x,y)=9.301
x=0.463 y=-0.372 f(x,y)=9.308
x=0.459 y=-0.376 f(x,y)=9.317
x=0.458 y=-0.381 f(x,y)=9.318
x=0.464 y=-0.389 f(x,y)=9.323
x=0.454 y=-0.399 f(x,y)=9.339
x=0.455 y=-0.404 f(x,y)=9.341
x=0.448 y=-0.412 f(x,y)=9.348
x=0.457 y=-0.417 f(x,y)=9.350
x=0.466 y=-0.412 f(x,y)=9.365
x=0.473 y=-0.409 f(x,y)=9.369
x=0.482 y=-0.408 f(x,y)=9.373
x=0.477 y=-0.415 f(x,y)=9.381
x=0.480 y=-0.417 f(x,y)=9.385
x=0.475 y=-0.423 f(x,y)=9.390
x=0.479 y=-0.426 f(x,y)=9.391
x=0.488 y=-0.426 f(x,y)=9.398
x=0.496 y=-0.422 f(x,y)=9.408
x=0.504 y=-0.424 f(x,y)=9.412
x=0.513 y=-0.432 f(x,y)=9.422
x=0.518 y=-0.440 f(x,y)=9.440
x=0.515 y=-0.447 f(x,y)=9.454
x=0.516 y=-0.446 f(x,y)=9.459
x=0.520 y=-0.447 f(x,y)=9.459
x=0.526 y=-0.446 f(x,y)=9.464
x=0.527 y=-0.455 f(x,y)=9.469
x=0.519 y=-0.465 f(x,y)=9.479
x=0.521 y=-0.468 f(x,y)=9.482
x=0.517 y=-0.477 f(x,y)=9.487
x=0.522 y=-0.475 f(x,y)=9.493
x=0.521 y=-0.477 f(x,y)=9.496
x=0.527 y=-0.477 f(x,y)=9.498
x=0.523 y=-0.487 f(x,y)=9.504
x=0.529 y=-0.490 f(x,y)=9.510
x=0.528 y=-0.496 f(x,y)=9.518
x=0.536 y=-0.504 f(x,y)=9.523
x=0.532 y=-0.510 f(x,y)=9.538
x=0.526 y=-0.518 f(x,y)=9.541
x=0.534 y=-0.510 f(x,y)=9.543
x=0.542 y=-0.503 f(x,y)=9.543
x=0.548 y=-0.511 f(x,y)=9.543
x=0.548 y=-0.514 f(x,y)=9.557
x=0.557 y=-0.518 f(x,y)=9.560
x=0.557 y=-0.525 f(x,y)=9.571
x=0.555 y=-0.527 f(x,y)=9.578
x=0.559 y=-0.528 f(x,y)=9.578
x=0.562 y=-0.530 f(x,y)=9.583
x=0.571 y=-0.527 f(x,y)=9.587
x=0.576 y=-0.522 f(x,y)=9.592
x=0.577 y=-0.524 f(x,y)=9.592
x=0.581 y=-0.532 f(x,y)=9.595
x=0.585 y=-0.542 f(x,y)=9.606
x=0.586 y=-0.545 f(x,y)=9.618
x=0.589 y=-0.545 f(x,y)=9.622
x=0.592 y=-0.550 f(x,y)=9.623
x=0.595 y=-0.558 f(x,y)=9.631
x=0.596 y=-0.562 f(x,y)=9.640
x=0.604 y=-0.566 f(x,y)=9.644
x=0.602 y=-0.571 f(x,y)=9.655
x=0.607 y=-0.571 f(x,y)=9.657
x=0.612 y=-0.580 f(x,y)=9.661
x=0.620 y=-0.575 f(x,y)=9.673
x=0.625 y=-0.582 f(x,y)=9.675
x=0.629 y=-0.589 f(x,y)=9.685
x=0.629 y=-0.591 f(x,y)=9.693
x=0.638 y=-0.594 f(x,y)=9.695
x=0.647 y=-0.599 f(x,y)=9.704
x=0.656 y=-0.602 f(x,y)=9.715
x=0.657 y=-0.609 f(x,y)=9.724
x=0.655 y=-0.614 f(x,y)=9.729
x=0.658 y=-0.621 f(x,y)=9.732
x=0.668 y=-0.631 f(x,y)=9.740
x=0.666 y=-0.641 f(x,y)=9.754
x=0.665 y=-0.650 f(x,y)=9.760
x=0.671 y=-0.650 f(x,y)=9.765
x=0.665 y=-0.656 f(x,y)=9.769
x=0.668 y=-0.656 f(x,y)=9.769
x=0.668 y=-0.662 f(x,y)=9.771
x=0.676 y=-0.656 f(x,y)=9.776
x=0.684 y=-0.664 f(x,y)=9.777
x=0.686 y=-0.671 f(x,y)=9.788
x=0.693 y=-0.671 f(x,y)=9.793
x=0.689 y=-0.676 f(x,y)=9.798
x=0.694 y=-0.680 f(x,y)=9.798
x=0.690 y=-0.689 f(x,y)=9.804
x=0.688 y=-0.699 f(x,y)=9.807
x=0.687 y=-0.702 f(x,y)=9.812
x=0.694 y=-0.695 f(x,y)=9.813
x=0.697 y=-0.697 f(x,y)=9.813
x=0.705 y=-0.696 f(x,y)=9.816
x=0.705 y=-0.703 f(x,y)=9.821
x=0.704 y=-0.704 f(x,y)=9.824
x=0.711 y=-0.710 f(x,y)=9.825
x=0.710 y=-0.719 f(x,y)=9.832
x=0.707 y=-0.726 f(x,y)=9.837
x=0.709 y=-0.735 f(x,y)=9.839
x=0.710 y=-0.736 f(x,y)=9.845
x=0.719 y=-0.728 f(x,y)=9.846
x=0.728 y=-0.725 f(x,y)=9.847
x=0.725 y=-0.731 f(x,y)=9.851
x=0.725 y=-0.738 f(x,y)=9.852
x=0.730 y=-0.735 f(x,y)=9.855
x=0.730 y=-0.740 f(x,y)=9.857
x=0.737 y=-0.738 f(x,y)=9.859
x=0.744 y=-0.745 f(x,y)=9.862
x=0.748 y=-0.742 f(x,y)=9.869
x=0.756 y=-0.742 f(x,y)=9.870
x=0.753 y=-0.749 f(x,y)=9.874
x=0.757 y=-0.753 f(x,y)=9.876
x=0.757 y=-0.755 f(x,y)=9.880
x=0.762 y=-0.762 f(x,y)=9.881
x=0.766 y=-0.771 f(x,y)=9.887
x=0.759 y=-0.780 f(x,y)=9.893
x=0.755 y=-0.786 f(x,y)=9.893
x=0.762 y=-0.786 f(x,y)=9.894
x=0.762 y=-0.795 f(x,y)=9.898
x=0.769 y=-0.804 f(x,y)=9.901
x=0.774 y=-0.801 f(x,y)=9.909
x=0.781 y=-0.799 f(x,y)=9.910
x=0.782 y=-0.805 f(x,y)=9.912
x=0.787 y=-0.800 f(x,y)=9.914
x=0.796 y=-0.796 f(x,y)=9.915
x=0.806 y=-0.803 f(x,y)=9.917
x=0.814 y=-0.803 f(x,y)=9.924
x=0.818 y=-0.803 f(x,y)=9.926
x=0.817 y=-0.811 f(x,y)=9.928
x=0.824 y=-0.812 f(x,y)=9.931
x=0.826 y=-0.815 f(x,y)=9.934
x=0.827 y=-0.816 f(x,y)=9.935
x=0.827 y=-0.824 f(x,y)=9.936
x=0.836 y=-0.821 f(x,y)=9.939
x=0.834 y=-0.827 f(x,y)=9.941
x=0.836 y=-0.827 f(x,y)=9.943
x=0.834 y=-0.837 f(x,y)=9.943
x=0.835 y=-0.843 f(x,y)=9.946
x=0.831 y=-0.852 f(x,y)=9.948
x=0.829 y=-0.858 f(x,y)=9.949
x=0.827 y=-0.864 f(x,y)=9.951
x=0.837 y=-0.858 f(x,y)=9.952
x=0.834 y=-0.864 f(x,y)=9.953
x=0.842 y=-0.860 f(x,y)=9.954
x=0.845 y=-0.870 f(x,y)=9.956
x=0.843 y=-0.879 f(x,y)=9.959
x=0.852 y=-0.888 f(x,y)=9.961
x=0.860 y=-0.898 f(x,y)=9.965
x=0.863 y=-0.897 f(x,y)=9.970
x=0.873 y=-0.894 f(x,y)=9.971
x=0.875 y=-0.900 f(x,y)=9.973
x=0.875 y=-0.908 f(x,y)=9.974
x=0.884 y=-0.907 f(x,y)=9.976
x=0.888 y=-0.912 f(x,y)=9.978
x=0.892 y=-0.909 f(x,y)=9.980
x=0.901 y=-0.904 f(x,y)=9.980
x=0.907 y=-0.901 f(x,y)=9.981
x=0.914 y=-0.895 f(x,y)=9.981
x=0.913 y=-0.904 f(x,y)=9.982
x=0.915 y=-0.903 f(x,y)=9.983
x=0.923 y=-0.904 f(x,y)=9.983
x=0.913 y=-0.913 f(x,y)=9.985
x=0.916 y=-0.916 f(x,y)=9.985
x=0.920 y=-0.925 f(x,y)=9.986
x=0.920 y=-0.927 f(x,y)=9.988
x=0.919 y=-0.936 f(x,y)=9.988
x=0.928 y=-0.940 f(x,y)=9.989
x=0.930 y=-0.938 f(x,y)=9.991
x=0.933 y=-0.944 f(x,y)=9.991
x=0.938 y=-0.940 f(x,y)=9.992
x=0.932 y=-0.947 f(x,y)=9.993
x=0.938 y=-0.948 f(x,y)=9.993
x=0.948 y=-0.945 f(x,y)=9.993
x=0.956 y=-0.941 f(x,y)=9.994
x=0.952 y=-0.946 f(x,y)=9.995
x=0.954 y=-0.953 f(x,y)=9.995
x=0.958 y=-0.960 f(x,y)=9.996
x=0.963 y=-0.957 f(x,y)=9.997
x=0.972 y=-0.956 f(x,y)=9.997
x=0.980 y=-0.952 f(x,y)=9.997
x=0.987 y=-0.952 f(x,y)=9.997
x=0.986 y=-0.953 f(x,y)=9.998
x=0.988 y=-0.962 f(x,y)=9.998
x=0.991 y=-0.965 f(x,y)=9.998
x=0.990 y=-0.967 f(x,y)=9.999
x=0.989 y=-0.969 f(x,y)=9.999
x=0.985 y=-0.973 f(x,y)=9.999
x=0.991 y=-0.974 f(x,y)=9.999
x=0.988 y=-0.981 f(x,y)=9.999
x=0.995 y=-0.983 f(x,y)=10.000
x=1.004 y=-0.989 f(x,y)=10.000
x=0.996 y=-0.995 f(x,y)=10.000
x=1.002 y=-1.002 f(x,y)=10.000
x=0.999 y=-1.000 f(x,y)=10.000
x=1.001 y=-1.000 f(x,y)=10.000
x=0.999 y=-1.000 f(x,y)=10.000
x=1.001 y=-1.000 f(x,y)=10.000
x=1.000 y=-1.000 f(x,y)=10.000
x=1.000 y=-1.000 f(x,y)=10.000
x=1.000 y=-1.000 f(x,y)=10.000
x=1.000 y=-1.000 f(x,y)=10.000
x=1.000 y=-1.000 f(x,y)=10.000
x=1.000 y=-1.000 f(x,y)=10.000  
```  
藉由隨機偏移量 並執行10000次迴圈 找到最高點  
![image](https://github.com/timmy10289/pic/blob/main/c.jpg)  
![image](https://github.com/timmy10289/pic/blob/main/e.jpg)  
